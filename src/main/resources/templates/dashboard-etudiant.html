<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/layout :: headerParams('Dashboard Étudiant - UASZ')}"></head>
<body>
<nav th:replace="~{fragments/layout :: navbar}"></nav>
<nav th:replace="~{fragments/layout :: sidebar(activePage='accueil')}"></nav>

<main class="main-content">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="fw-bold text-dark">
                <i class="bi bi-calendar-week me-2 text-success"></i>Emplois du Temps
            </h2>
            <p class="text-muted mb-0">Consultez les emplois du temps de toutes les formations disponibles</p>
        </div>
        <span class="badge bg-info bg-opacity-10 text-info px-3 py-2 border border-info">
            <i class="bi bi-person-badge me-2"></i>Étudiant
        </span>
    </div>

    <!-- Message si aucune formation -->
    <div th:if="${formations == null || formations.isEmpty()}" class="alert alert-warning border-0 shadow-sm">
        <i class="bi bi-inbox me-2"></i>
        <strong>Aucune formation disponible</strong> - Il n'y a actuellement aucun emploi du temps à afficher.
    </div>

    <!-- Liste des formations -->
    <div th:if="${formations != null && !formations.isEmpty()}" class="row g-4">
        <div th:each="formation : ${formations}" class="col-md-6 col-xl-4">
            <div class="card border-0 shadow-sm h-100 hover-lift">
                <div class="card-header text-white py-3" style="background: linear-gradient(135deg, #1a5e34 0%, #144a29 100%);">
                    <h5 class="mb-1 fw-bold" th:text="${formation.libelle}">Nom de la formation</h5>
                    <div class="d-flex gap-2 mt-2">
                        <span class="badge bg-white text-dark" th:text="${formation.niveau != null ? formation.niveau.libelle : 'N/A'}">Niveau</span>
                        <span class="badge bg-white text-dark" th:text="${formation.filiere != null ? formation.filiere.libelle : 'N/A'}">Filière</span>
                    </div>
                </div>
                <div class="card-body">
                    <p class="text-muted small mb-3" th:text="${formation.description != null ? formation.description : 'Pas de description disponible'}">
                        Description de la formation
                    </p>
                    <a th:href="@{/emploi-du-temps(formation=${formation.id})}" class="btn btn-success w-100">
                        <i class="bi bi-calendar-check me-2"></i>Voir l'emploi du temps
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Info Alert -->
    <div th:if="${formations != null && !formations.isEmpty()}" class="alert alert-info border-0 mt-4 shadow-sm" style="background-color: rgba(13, 202, 240, 0.1);">
        <i class="bi bi-info-circle-fill me-2"></i>
        <strong>Information :</strong> Cliquez sur une formation pour accéder à son emploi du temps hebdomadaire.
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
